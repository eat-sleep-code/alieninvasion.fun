(()=>{var __webpack_modules__={756:()=>{new Audio("audio/boom.mp3"),new Audio("audio/boss.mp3"),new Audio("audio/fire.mp3"),new Audio("audio/hit.mp3"),new Audio("audio/lose.mp3"),new Audio("audio/power.mp3"),new Audio("audio/start.mp3"),new Audio("audio/win.mp3")},990:()=>{var boostPattern="",bossLevel=!1;!function(){for(var lastTime=0,vendors=["ms","moz","webkit","o"],x=0;x<vendors.length&&!window.requestAnimationFrame;++x)window.requestAnimationFrame=window[vendors[x]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[vendors[x]+"CancelAnimationFrame"]||window[vendors[x]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(callback,element){var currTime=(new Date).getTime(),timeToCall=Math.max(0,16-(currTime-lastTime)),id=window.setTimeout((function(){callback(currTime+timeToCall)}),timeToCall);return lastTime=currTime+timeToCall,id}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(id){clearTimeout(id)})}();var Game=new function(){var boards=[];this.initialize=function(canvasElementId,sprite_data,callback){this.canvas=document.getElementById(canvasElementId);var width=$(this.canvas).width(),height=$(this.canvas).height();if(this.canvas.width=width,this.canvas.height=height,this.playerOffset=20,this.canvasMultiplier=1,this.setupMobile(),this.width=this.canvas.width,this.height=this.canvas.height,this.ctx=this.canvas.getContext&&this.canvas.getContext("2d"),!this.ctx)return alert("Please upgrade your browser!");this.setupInput(),this.loop(),this.mobile&&this.setBoard(4,new TouchControls),SpriteSheet.load(sprite_data,callback)};var KEY_CODES={37:"left",39:"right",32:"fire"};this.keys={},this.setupInput=function(){window.addEventListener("keydown",(function(e){KEY_CODES[e.keyCode]&&(Game.keys[KEY_CODES[e.keyCode]]=!0,e.preventDefault())}),!1),window.addEventListener("keyup",(function(e){KEY_CODES[e.keyCode]&&(Game.keys[KEY_CODES[e.keyCode]]=!1,e.preventDefault())}),!1)};var lastTime=(new Date).getTime(),maxTime=1/30;this.loop=function(){var curTime=(new Date).getTime();requestAnimationFrame(Game.loop);var dt=(curTime-lastTime)/1e3;dt>maxTime&&(dt=maxTime);for(var i=0,len=boards.length;i<len;i++)boards[i]&&(boards[i].step(dt),boards[i].draw(Game.ctx));lastTime=curTime},this.setBoard=function(num,board){boards[num]=board},this.setupMobile=function(){document.getElementById("container");var hasTouch=!!("ontouchstart"in window),w=window.innerWidth,h=window.innerHeight;if(hasTouch&&(this.mobile=!0),screen.width>=1280||!hasTouch)return!1;w>h&&(alert("Please rotate the device!"),w=window.innerWidth,h=window.innerHeight),this.canvas.style.width="100vw",this.canvas.style.height="100vh"}},SpriteSheet=new function(){return this.map={},this.load=function(spriteData,callback){this.map=spriteData,this.image=new Image,this.image.onload=callback,this.image.src="images/sprites.png"},this.draw=function(ctx,sprite,x,y,frame){var s=this.map[sprite];frame||(frame=0),ctx.drawImage(this.image,s.sx+frame*s.w,s.sy,s.w,s.h,Math.floor(x),Math.floor(y),s.w,s.h)},this},Sprite=function(){};Sprite.prototype.setup=function(sprite,props){this.sprite=sprite,this.merge(props),this.frame=this.frame||0,this.w=SpriteSheet.map[sprite].w,this.h=SpriteSheet.map[sprite].h},Sprite.prototype.merge=function(props){if(props)for(var prop in props)this[prop]=props[prop]},Sprite.prototype.draw=function(ctx){SpriteSheet.draw(ctx,this.sprite,this.x,this.y,this.frame)},Sprite.prototype.hit=function(damage){this.board.remove(this)};var Level=function(levelData,callback){this.levelData=[];for(var i=0;i<levelData.length;i++)this.levelData.push(Object.create(levelData[i]));this.t=0,this.callback=callback};Level.prototype.step=function(dt){var idx=0,remove=[],curShip=null;for(this.t+=1e3*dt;(curShip=this.levelData[idx])&&curShip[0]<this.t+2e3;){if(this.t>curShip[1])remove.push(curShip);else if(curShip[0]<this.t){var enemy=enemies[curShip[3]],override=curShip[4];this.board.add(new Enemy(enemy,override)),curShip[0]+=curShip[2]}idx++}for(var i=0,len=remove.length;i<len;i++){var remIdx=this.levelData.indexOf(remove[i]);-1!=remIdx&&this.levelData.splice(remIdx,1)}if(0===this.levelData.length&&0===this.board.cnt[OBJECT_ENEMY]&&this.callback&&this.callback(),0==bossLevel)try{String(curShip[3]).includes("Final")&&(bossLevel=!0,audio.boss.play())}catch(error){}},Level.prototype.draw=function(ctx){};var TouchControls=function(){var unitWidth=Game.width/5,blockWidth=unitWidth-10;this.drawSquare=function(ctx,x,y,txt,on){ctx.globalAlpha=on?.1:.5,ctx.fillStyle="#CCC",ctx.fillRect(x,y,blockWidth,blockWidth),ctx.fillStyle="#FFF",ctx.globalAlpha=1,ctx.font="bold "+3*unitWidth/4+"px 'Verdana'";var txtSize=ctx.measureText(txt);ctx.fillText(txt,x+blockWidth/2-txtSize.width/2,y+3*blockWidth/4+5)},this.draw=function(ctx){ctx.save();var yLoc=Game.height-unitWidth;this.drawSquare(ctx,10,yLoc,"ᐊ",Game.keys.left),this.drawSquare(ctx,unitWidth+10,yLoc,"ᐅ",Game.keys.right),this.drawSquare(ctx,4*unitWidth,yLoc,"✹",Game.keys.fire),ctx.restore()},this.step=function(dt){},this.trackTouch=function(e){var x;e.preventDefault(),Game.keys.left=!1,Game.keys.right=!1;for(var i=0;i<e.targetTouches.length;i++)(x=e.targetTouches[i].pageX/Game.canvasMultiplier-Game.canvas.offsetLeft)<unitWidth&&(boostPattern=boostPattern.concat("l"),Game.keys.left=!0),x>unitWidth&&x<2*unitWidth&&(boostPattern=boostPattern.concat("r"),Game.keys.right=!0),boostPattern.includes("lllllllllllllllllrrrrrrrrrrrrrrrr")&&PlayerShip.boost();if("touchstart"==e.type||"touchend"==e.type)for(i=0;i<e.changedTouches.length;i++)(x=e.changedTouches[i].pageX/Game.canvasMultiplier-Game.canvas.offsetLeft)>4*unitWidth&&(boostPattern=boostPattern.concat("u"),Game.keys.fire="touchstart"==e.type)},Game.canvas.addEventListener("touchstart",this.trackTouch,!0),Game.canvas.addEventListener("touchmove",this.trackTouch,!0),Game.canvas.addEventListener("touchend",this.trackTouch,!0),Game.canvas.addEventListener("dblclick",(function(e){e.preventDefault()}),!0),Game.canvas.addEventListener("click",(function(e){e.preventDefault()}),!0),Game.playerOffset=unitWidth+20}}},__webpack_module_cache__={};function __webpack_require__(moduleId){var cachedModule=__webpack_module_cache__[moduleId];if(void 0!==cachedModule)return cachedModule.exports;var module=__webpack_module_cache__[moduleId]={exports:{}};return __webpack_modules__[moduleId](module,module.exports,__webpack_require__),module.exports}(()=>{const game_Audio=__webpack_require__(756),Game=__webpack_require__(990);var ua=navigator.userAgent.toLowerCase(),gameStarted=!1,game_reset=!0,playerHealth=300,defaultPlayerHealth=playerHealth,waves=45,healthAlreadyBoosted=!1,levelsPlayed=0,levelsWithBoostReset=[3,7,15,21,28,35,70,99],levelsWithAutoHealth=[5,9,23,42,49,69,89],difficultyMultiplier=1;Game.playerHealth=playerHealth,Game.defaultPlayerHealth=defaultPlayerHealth,Game.difficultyMultiplier=difficultyMultiplier,document.onkeydown=function(e){var keycode;window.event?keycode=window.event.keyCode:e&&(keycode=e.which),(e=e||window.event).preventDefault(),65==keycode&&e.ctrlKey&&e.shiftKey&&game_PlayerShip.boost()};var sprites={ship:{sx:0,sy:0,w:37,h:42,frames:1},missile:{sx:0,sy:30,w:4,h:10,frames:1},enemy_purple:{sx:37,sy:0,w:42,h:43,frames:1},enemy_bee:{sx:79,sy:0,w:37,h:43,frames:1},enemy_ship:{sx:116,sy:0,w:42,h:43,frames:1},enemy_circle:{sx:158,sy:0,w:32,h:33,frames:1},explosion:{sx:0,sy:64,w:64,h:64,frames:12},enemy_missile:{sx:8,sy:42,w:4,h:20,frame:1},enemy_bee_final:{sx:215,sy:0,w:73,h:50,frames:1},enemy_straight_final:{sx:287,sy:0,w:73,h:65,frames:1},enemy_circle_final:{sx:360,sy:0,w:70,h:60,frames:1}},startGame=(Math.PI,Math.PI,function(){ua.match(/android/)?Game.setBoard(0,new Starfield(50,.6,100,!0)):(Game.setBoard(0,new Starfield(20,.4,100,!0)),Game.setBoard(1,new Starfield(50,.6,100)),Game.setBoard(2,new Starfield(100,1,50))),$(window).width()<=576?Game.setBoard(3,new SplashScreen("images/splash-mobile.svg","","",playGame)):Game.setBoard(3,new SplashScreen("images/splash.svg","","",playGame))}),movementVariantArray=["ltr","circle","step","straight","wiggle"],finalMovementVariantArray=["wiggleFinal","straightFinal","circleFinal"],level1=[],wavesAdded=0,lastLevelStartVariant=0,lastLevelEndVariant=0;waves+=Math.round(waves*(difficultyMultiplier/10));do{var levelStartVariant;if(0===wavesAdded)levelStartVariant=0;else(levelStartVariant=lastLevelEndVariant+Math.floor(2001*Math.random()+1e3)*(1==Math.floor(2*Math.random())?1:-1))<=0&&(levelStartVariant=lastLevelStartVariant);lastLevelStartVariant=levelStartVariant;var levelGapVariant,levelMovementVariant,levelEndVariant=levelStartVariant+Math.floor(2001*Math.random()+3e3);lastLevelEndVariant=levelEndVariant,wavesAdded>waves-4?(levelGapVariant=900,levelMovementVariant=finalMovementVariantArray[Math.floor(Math.random()*finalMovementVariantArray.length)]):(levelGapVariant=Math.floor(401*Math.random()+400),levelMovementVariant=movementVariantArray[Math.floor(Math.random()*movementVariantArray.length)]);var canvasWidth=$("#game").width(),levelXPositionVariant=Math.floor(Math.random()*(canvasWidth-10+1)+10);level1.push([levelStartVariant,levelEndVariant,levelGapVariant,levelMovementVariant,{x:levelXPositionVariant}]),wavesAdded++}while(wavesAdded<waves);var playGame=function(){setTimeout((function(){var board=new GameBoard;board.add(new game_PlayerShip),board.add(new Level(level1,winGame)),Game.playerHealth=defaultPlayerHealth,levelsWithAutoHealth.includes(levelsPlayed)&&(Game.playerHealth=Game.playerHealth+100),levelsWithBoostReset.includes(levelsPlayed)&&(healthAlreadyBoosted=!1),Game.setBoard(3,board),1==game_reset&&(Game.setBoard(5,new GamePoints(0)),Game.setBoard(6,new GameHealth(0)))}),500)},winGame=function(){try{bossLevel=!1,game_Audio.boss.pause(),game_Audio.boss.currentTime=0}catch(error){}game_Audio.win.play(),game_reset=!1,difficultyMultiplier*=1.5,levelsPlayed+=1,Game.setBoard(3,new SplashScreen("images/win.svg","","",playGame)),$(document).keydown((function(e){32!=e.which&&37!=e.which&&39!=e.which||setTimeout((function(){try{e.preventDefault()}catch(error){}}),1500)}))},Starfield=function(speed,opacity,numStars,clear,color){var stars=document.createElement("canvas");stars.width=Game.width,stars.height=Game.height;var starCtx=stars.getContext("2d"),offset=0;clear&&(starCtx.fillStyle="#000",starCtx.fillRect(0,0,stars.width,stars.height)),starCtx.fillStyle=color||"#FFF",starCtx.globalAlpha=opacity;for(var i=0;i<numStars;i++)starCtx.fillRect(Math.floor(Math.random()*stars.width),Math.floor(Math.random()*stars.height),2,2);this.draw=function(ctx){var intOffset=Math.floor(offset),remaining=stars.height-intOffset;intOffset>0&&ctx.drawImage(stars,0,remaining,stars.width,intOffset,0,0,stars.width,intOffset),remaining>0&&ctx.drawImage(stars,0,0,stars.width,remaining,0,intOffset,stars.width,remaining)},this.step=function(dt){offset+=dt*speed,offset%=stars.height}},game_PlayerShip=function(){this.setup("ship",{vx:0,reloadTime:.25,maxVel:200}),this.reload=this.reloadTime,this.x=Game.width/2-this.w/2,this.y=Game.height-Game.playerOffset-this.h,this.step=function(dt){Game.keys.left?this.vx=-this.maxVel:Game.keys.right?this.vx=this.maxVel:this.vx=0,this.x+=this.vx*dt,this.x<0?this.x=0:this.x>Game.width-this.w&&(this.x=Game.width-this.w),this.reload-=dt,Game.keys.fire&&this.reload<0&&(Game.keys.fire=!1,this.reload=this.reloadTime,game_Audio.fire.play(),this.board.add(new PlayerMissile(this.x,this.y+this.h/2)),this.board.add(new PlayerMissile(this.x+this.w,this.y+this.h/2)))}};game_PlayerShip.boost=function(){if(0==healthAlreadyBoosted)if(game_Audio.power.play(),playerHealth=600,healthAlreadyBoosted=!0,Game.playerHealth=playerHealth,ua.match(/android/)||Game.width<=576)Game.setBoard(0,new Starfield(100,.6,100,!0,"#00A9E0"));else{Game.setBoard(0,new Starfield(60,.4,100,!0)),Game.setBoard(1,new Starfield(150,.6,100)),Game.setBoard(2,new Starfield(300,.8,50,!1,"#00A9E0"));var checkHealth=setInterval((function(){playerHealth<defaultPlayerHealth&&(Game.setBoard(0,new Starfield(20,.4,100,!0)),Game.setBoard(1,new Starfield(50,.6,100)),Game.setBoard(2,new Starfield(150,.8,50,!1,"#FFFFFF")),clearInterval(checkHealth))}),3e3)}},game_PlayerShip.prototype=new Sprite,game_PlayerShip.prototype.type=1,game_PlayerShip.prototype.hit=function(damage){0==isNaN(damage)&&(playerHealth-=damage,game_Audio.hit.play(),Game.playerHealth=playerHealth),playerHealth<=0&&function(){playerHealth=defaultPlayerHealth;try{bossLevel=!1,game_Audio.boss.pause(),game_Audio.boss.currentTime=0,game_Audio.start.pause(),game_Audio.start.currentTime=0}catch(error){}game_Audio.lose.play(),difficultyMultiplier=1,game_reset=!0,levelsPlayed=0,Game.setBoard(3,new SplashScreen("images/loss.svg","","",playGame)),$(document).keydown((function(e){32!=e.which&&37!=e.which&&39!=e.which||setTimeout((function(){try{e.preventDefault()}catch(error){}}),1500)}))}()};var PlayerMissile=function(x,y){this.setup("missile",{vy:-700,damage:10}),this.x=x-this.w/2,this.y=y-this.h};PlayerMissile.prototype=new Sprite,PlayerMissile.prototype.type=2,PlayerMissile.prototype.step=function(dt){this.y+=this.vy*dt;var collision=this.board.collide(this,4);collision?(collision.hit(this.damage),this.board.remove(this)):this.y<-this.h&&this.board.remove(this)};var game_Enemy=function(blueprint,override){this.merge(this.baseParameters),this.setup(blueprint.sprite,blueprint),this.merge(override)};(game_Enemy.prototype=new Sprite).type=4,game_Enemy.prototype.baseParameters={A:0,B:0,C:0,D:0,E:0,F:0,G:0,H:0,t:0,reloadTime:.75,reload:0},game_Enemy.prototype.step=function(dt){this.t+=dt,this.vx=this.A+this.B*Math.sin(this.C*this.t+this.D),this.vy=this.E+this.F*Math.sin(this.G*this.t+this.H),this.x+=this.vx*dt,this.y+=this.vy*dt;var collision=this.board.collide(this,1);collision&&(collision.hit(this.damage),this.board.remove(this)),Math.random()<.01&&this.reload<=0&&(this.reload=this.reloadTime,2==this.missiles?(this.board.add(new EnemyMissile(this.x+this.w-2,this.y+this.h)),this.board.add(new EnemyMissile(this.x+2,this.y+this.h))):this.board.add(new EnemyMissile(this.x+this.w/2,this.y+this.h))),this.reload-=dt,(this.y>Game.height||this.x<-this.w||this.x>Game.width)&&this.board.remove(this)},game_Enemy.prototype.hit=function(damage){this.health-=damage,this.health<=0&&this.board.remove(this)&&(Game.points+=this.points||100,this.board.add(new Explosion(this.x+this.w/2,this.y+this.h/2)),game_Audio.boom.play())};var EnemyMissile=function(x,y){this.setup("enemy_missile",{vy:200,damage:10}),this.x=x-this.w/2,this.y=y};EnemyMissile.prototype=new Sprite,EnemyMissile.prototype.type=8,EnemyMissile.prototype.step=function(dt){this.y+=this.vy*dt;var collision=this.board.collide(this,1);collision?(collision.hit(this.damage),this.board.remove(this)):this.y>Game.height&&this.board.remove(this)};var Explosion=function(centerX,centerY){this.setup("explosion",{frame:0}),this.x=centerX-this.w/2,this.y=centerY-this.h/2};function startAudio(){if(0==gameStarted)try{game_Audio.start.play(),gameStarted=!0,playGame()}catch(error){}}Explosion.prototype=new Sprite,Explosion.prototype.step=function(dt){this.frame++,this.frame>=12&&this.board.remove(this)},$(document).ready((function(){$("#game").click((function(){startAudio()}))})),document.addEventListener("touchend",startAudio),window.addEventListener("load",(function(){Game.initialize("game",sprites,startGame)}))})(),(()=>{function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","UA-136336-17")})()})();